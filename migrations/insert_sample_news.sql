-- ================================================
-- EasyPeek 新闻数据批量导入脚本
-- 版本: v1.0
-- 创建时间: 2025-06-30
-- 说明: 用于直接向news表插入示例数据
-- ================================================

-- 清理现有测试数据（可选）
-- DELETE FROM news WHERE source IN ('测试来源', '示例新闻网');

-- 批量插入各类型新闻数据
INSERT INTO news (
    title, content, summary, description, source, category, 
    published_at, author, image_url, tags, language,
    view_count, like_count, comment_count, share_count, status
) VALUES 

-- 政治新闻
(
    '2025年全国两会胜利闭幕',
    '2025年3月15日，全国人民代表大会第三次会议在北京人民大会堂胜利闭幕。大会期间，代表们围绕经济社会发展的重大问题进行了深入讨论，审议通过了政府工作报告、预算报告等重要文件。会议强调要坚持高质量发展，推进现代化建设，不断增进民生福祉。',
    '全国两会圆满闭幕，审议通过重要文件，强调高质量发展',
    '会议审议了政府工作报告、预算报告等重要文件，强调推进现代化建设',
    '人民日报',
    '政治',
    '2025-06-30 09:00:00',
    '人民日报记者',
    'https://example.com/images/politics1.jpg',
    '["政治", "两会", "政府工作报告", "现代化建设"]',
    'zh',
    1256, 89, 25, 12, 'published'
),

-- 科技新闻
(
    '我国在人工智能领域取得重大突破',
    '近日，中科院人工智能研究院发布了最新研究成果，成功开发出具有自主学习能力的新型AI系统。该系统在图像识别、自然语言处理、决策推理等多个领域表现优异，准确率达到98%以上。专家表示，这一突破将为我国在全球AI竞争中占据有利地位提供强有力支撑。',
    '中科院AI研究院发布新型自主学习AI系统，准确率超98%',
    '新型AI系统在多个领域表现优异，为我国AI发展提供支撑',
    '科技日报',
    '科技',
    '2025-06-30 10:30:00',
    '科技日报记者',
    'https://example.com/images/tech1.jpg',
    '["人工智能", "科技突破", "中科院", "自主学习"]',
    'zh',
    2103, 156, 43, 28, 'published'
),

-- 经济新闻
(
    '新能源汽车产业迎来发展新机遇',
    '2025年上半年，我国新能源汽车产销量再创新高，分别达到280万辆和275万辆，同比增长45%和42%。随着充电基础设施不断完善，消费者对新能源汽车的接受度持续提升。业内专家预测，今年全年新能源汽车销量有望突破500万辆大关。',
    '上半年新能源汽车产销双增长，全年销量有望破500万辆',
    '新能源汽车产销量创新高，充电设施不断完善',
    '经济参考报',
    '经济',
    '2025-06-30 11:45:00',
    '经济记者',
    'https://example.com/images/economy1.jpg',
    '["新能源汽车", "产销量", "充电设施", "市场增长"]',
    'zh',
    1789, 123, 31, 19, 'published'
),

-- 社会新闻
(
    '城市绿化建设成效显著，市民幸福感提升',
    '今年以来，本市大力推进城市绿化建设，新增绿地面积500公顷，建成生态公园15个。通过见缝插绿、立体绿化等方式，城市绿化覆盖率达到42%，空气质量明显改善。市民张先生表示："现在出门就能看到绿色，呼吸到新鲜空气，生活质量真的提高了很多。"',
    '城市新增绿地500公顷，绿化覆盖率达42%，空气质量改善',
    '大力推进城市绿化建设，建成多个生态公园，市民生活质量提升',
    '本地晚报',
    '社会',
    '2025-06-30 12:20:00',
    '社会记者',
    'https://example.com/images/society1.jpg',
    '["城市绿化", "生态公园", "环境改善", "民生福祉"]',
    'zh',
    945, 67, 18, 9, 'published'
),

-- 体育新闻
(
    '中国队在世界游泳锦标赛上再创佳绩',
    '在刚刚结束的世界游泳锦标赛上，中国游泳队表现出色，共获得3金2银4铜的优异成绩。其中，张雨霏在女子100米蝶泳比赛中以55秒12的成绩打破世界纪录并夺得金牌。教练组表示，这一成绩为明年的奥运会备战增强了信心。',
    '中国游泳队世锦赛获3金2银4铜，张雨霏破世界纪录',
    '中国队在世界游泳锦标赛表现出色，为奥运备战增强信心',
    '体育周报',
    '体育',
    '2025-06-30 13:15:00',
    '体育记者',
    'https://example.com/images/sports1.jpg',
    '["游泳", "世界锦标赛", "世界纪录", "奥运备战"]',
    'zh',
    2567, 234, 67, 45, 'published'
),

-- 娱乐新闻
(
    '国产影片《梦想之光》票房破亿，好评如潮',
    '由著名导演李明执导的国产励志电影《梦想之光》上映两周来票房持续攀升，目前已突破1.2亿元。该片讲述了一位普通青年通过不懈努力实现梦想的故事，深深打动了观众。影评人认为，这部电影展现了当代青年的精神风貌，是近年来难得的优秀国产片。',
    '《梦想之光》票房破亿，展现当代青年精神风貌获好评',
    '励志电影上映两周票房1.2亿，讲述普通青年追梦故事',
    '娱乐周刊',
    '娱乐',
    '2025-06-30 14:30:00',
    '娱乐记者',
    'https://example.com/images/entertainment1.jpg',
    '["电影", "国产片", "票房", "励志故事"]',
    'zh',
    3421, 445, 89, 67, 'published'
),

-- 教育新闻
(
    '在线教育平台助力偏远地区教育均衡发展',
    '近年来，多家在线教育平台积极参与教育扶贫，通过网络课堂、远程指导等方式，为偏远地区学生提供优质教育资源。截至目前，已有超过50万名偏远地区学生受益。教育部相关负责人表示，这一模式有效缩小了城乡教育差距，促进了教育公平。',
    '在线教育平台助力教育扶贫，50万偏远地区学生受益',
    '网络课堂和远程指导缩小城乡教育差距，促进教育公平',
    '中国教育报',
    '教育',
    '2025-06-30 15:45:00',
    '教育记者',
    'https://example.com/images/education1.jpg',
    '["在线教育", "教育扶贫", "教育公平", "远程教学"]',
    'zh',
    1234, 98, 22, 15, 'published'
),

-- 健康新闻
(
    '夏季健康饮食指南发布，专家提醒注意防暑降温',
    '随着夏季到来，气温逐渐升高，市疾控中心发布夏季健康饮食指南。专家建议，夏季应多食用清淡易消化的食物，适量补充水分和电解质，避免长时间在高温环境中活动。同时要注意食品安全，防止肠胃疾病的发生。',
    '疾控中心发布夏季饮食指南，提醒防暑降温注意食品安全',
    '专家建议清淡饮食、适量补水，避免高温活动预防疾病',
    '健康时报',
    '健康',
    '2025-06-30 16:20:00',
    '健康记者',
    'https://example.com/images/health1.jpg',
    '["夏季健康", "饮食指南", "防暑降温", "食品安全"]',
    'zh',
    876, 54, 12, 8, 'published'
),

-- 国际新闻
(
    '国际气候变化大会达成重要共识',
    '为期三天的国际气候变化大会在日内瓦闭幕，与会各国代表就减少温室气体排放、推进清洁能源发展等议题达成重要共识。会议通过了《2025年气候行动宣言》，承诺在2030年前将全球碳排放量减少50%。这一成果为全球应对气候变化提供了新的行动指南。',
    '国际气候大会通过2025年宣言，承诺2030年前减排50%',
    '各国就减排和清洁能源发展达成共识，为应对气候变化提供指南',
    '国际时报',
    '国际',
    '2025-06-30 17:00:00',
    '国际记者',
    'https://example.com/images/international1.jpg',
    '["气候变化", "减排目标", "清洁能源", "国际合作"]',
    'zh',
    1567, 112, 28, 21, 'published'
),

-- 文化新闻
(
    '传统文化进校园活动深受学生喜爱',
    '本学期以来，我市各中小学校广泛开展传统文化进校园活动，邀请书法家、戏曲演员、民间艺人等走进课堂，为学生们传授传统文化知识。学生们通过亲身体验，对中华优秀传统文化有了更深的理解和认识。教育专家认为，这一活动有助于培养学生的文化自信。',
    '传统文化进校园活动开展，学生亲身体验培养文化自信',
    '书法家戏曲演员进课堂传授传统文化，深受学生喜爱',
    '文化日报',
    '文化',
    '2025-06-30 18:30:00',
    '文化记者',
    'https://example.com/images/culture1.jpg',
    '["传统文化", "校园活动", "文化自信", "教育实践"]',
    'zh',
    723, 89, 15, 11, 'published'
);

-- 更新所有新闻的热度分数
UPDATE news 
SET hotness_score = calculate_news_hotness(
    view_count, like_count, comment_count, share_count, published_at
),
updated_at = CURRENT_TIMESTAMP
WHERE hotness_score = 0 OR updated_at < CURRENT_TIMESTAMP - INTERVAL '1 hour';

-- 验证导入结果
SELECT 
    '数据导入完成!' as message,
    COUNT(*) as total_news,
    COUNT(DISTINCT category) as categories,
    AVG(hotness_score) as avg_hotness
FROM news 
WHERE created_at > CURRENT_TIMESTAMP - INTERVAL '1 hour';

-- 按分类统计新增数据
SELECT 
    category,
    COUNT(*) as count,
    AVG(hotness_score) as avg_hotness,
    SUM(view_count) as total_views
FROM news 
WHERE created_at > CURRENT_TIMESTAMP - INTERVAL '1 hour'
GROUP BY category
ORDER BY count DESC;
